<!DOCTYPE html><html> <head><link rel="stylesheet" href="/src/styles/global.css"><link rel="stylesheet" href="/src/styles/createIcon.css"><script src="/src/scripts/createIcon.ts" type="module"></script><link rel="icon" href="/icons/glider.png" type="image/x-icon"><title>Design Your Own Icon</title></head> <body> <header class="header"> <h1 class="page-title">Design Your Own Icon</h1> </header> <main class="icon-main"> <div class="icon-designer"> <div class="mode-toggle"> <label> <input type="radio" name="icon-mode" value="upload" checked>
Upload Image
</label> <label> <input type="radio" name="icon-mode" value="draw">
Draw Image
</label> </div> <!-- Upload Image Section --> <div class="icon-upload" id="upload-mode"> <img id="icon-preview" alt="Upload Icon"> <p>Upload an image to be your icon</p> <input type="file" id="upload-input" accept="image/*"> </div> <!-- Draw Image Section --> <div class="icon-draw hidden" id="draw-mode"> <canvas id="icon-canvas" width="150" height="150"></canvas> <p>Use your mouse to draw on the canvas</p> <button id="clear-canvas" class="clear-button">
Clear Canvas
</button> </div> <div class="form-group"> <label for="icon-name" class="icon-label">Icon Name:</label> <input type="text" id="icon-name" placeholder="My Icon Name"> </div> <div class="form-group"> <label for="icon-link" class="icon-label">Icon Link:</label> <input type="text" id="icon-link" placeholder="https://www.wikipedia.com"> </div> <button id="icon-action-button" class="button create-button">
Create Icon
</button> </div> </main> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const i=new URLSearchParams(window.location.search),m=i.get("iconName"),g=i.get("iconLink"),l=i.get("imageKey"),v=document.getElementById("icon-name"),f=document.getElementById("icon-link"),a=document.getElementById("icon-preview"),s=document.getElementById("icon-action-button"),L=document.getElementById("upload-mode"),p=document.getElementById("draw-mode"),E=document.querySelectorAll("input[name='icon-mode']"),r=document.getElementById("upload-input");a&&r&&(a.addEventListener("click",()=>{r.click()}),r.addEventListener("change",o=>{const c=o.target?.files?.[0];if(c){const n=new FileReader;n.onload=d=>{a&&(a.src=d.target?.result)},n.readAsDataURL(c)}}));const e=document.getElementById("icon-canvas"),h=document.getElementById("clear-canvas"),t=e?e.getContext("2d"):null;if(e&&t){let o=!1;e.addEventListener("mousedown",c=>{o=!0;const n=e.getBoundingClientRect(),d=c.clientX-n.left,u=c.clientY-n.top;t.beginPath(),t.moveTo(d,u)}),e.addEventListener("mouseup",()=>{o=!1,t.closePath()}),e.addEventListener("mouseleave",()=>{o=!1,t.closePath()}),e.addEventListener("mousemove",c=>{if(!o)return;const n=e.getBoundingClientRect(),d=c.clientX-n.left,u=c.clientY-n.top;t.lineWidth=2,t.lineCap="round",t.strokeStyle="black",t.lineTo(d,u),t.stroke()}),h?.addEventListener("click",()=>{t.clearRect(0,0,e.width,e.height)})}if(E.forEach(o=>{o.addEventListener("change",c=>{const n=c.target.value;n==="upload"?(L?.classList.remove("hidden"),p?.classList.add("hidden")):n==="draw"&&(L?.classList.add("hidden"),p?.classList.remove("hidden"))})}),m||g||l){if(v&&(v.value=m||""),f&&(f.value=g||""),a&&l){const o=localStorage.getItem(l);a.src=o||"/backgrounds/custom_fake.png"}s&&(s.textContent="Save Changes",s.classList.remove("create-button"),s.classList.add("edit-button"))}else a&&(a.src="/backgrounds/custom_fake.png"),s&&(s.textContent="Create Icon",s.classList.remove("edit-button"),s.classList.add("create-button"))});</script> </body> </html>