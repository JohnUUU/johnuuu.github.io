---
const { links } = Astro.props;

if (!Array.isArray(links) || links.length === 0) {
    throw new Error("The 'links' prop must be a non-empty array.");
}

const randomLink = links[Math.floor(Math.random() * links.length)];
---

<!doctype html>
<html lang="en">
    <head>
        <meta http-equiv="refresh" content={`0; url=${randomLink}`} />
        <link rel="icon" type="image/png" href="/favicon.png" />
        <base href={import.meta.env.BASE_URL} />
        <title>Redirecting...</title>
    </head>
    <body>
        <p>If you are not redirected, <a href={randomLink}>click here</a>.</p>
    </body>
</html>
